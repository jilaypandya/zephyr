# SPDX-FileCopyrightText: Copyright (c) 2025 Jilay Sandeep Pandya
# SPDX-License-Identifier: Apache-2.0

config ZEPHYR_STEPPER_MOTION_CONTROL
	bool "Zephyr CPU based Stepper motion control"
	depends on DT_HAS_ZEPHYR_STEPPER_MOTION_CONTROL_ENABLED
	select STEPPER_TIMING_SOURCES
	default y

config ZEPHYR_STEPPER_MOTION_CONTROL_GENERATE_ISR_SAFE_EVENTS
	bool "Guarantee non ISR callbacks upon stepper events"
	help
	  Enable the dispatch of stepper generated events via
	  a message queue to guarantee that the event handler
	  code is not run inside of an ISR. Can be disabled, but
	  then registered stepper event callback must be ISR safe.

config ZEPHYR_STEPPER_MOTION_CONTROL_EVENT_QUEUE_LEN
	int "Maximum number of pending stepper events"
	default 4
	depends on ZEPHYR_STEPPER_MOTION_CONTROL_GENERATE_ISR_SAFE_EVENTS
	help
	  The maximum number of stepper events that can be pending before new events
	  are dropped.
